<html>
    <head>
        <title>OSCache : CacheFilter</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            OSCache : CacheFilter
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Apr 22, 2005 by <font color="#0050B2">lars t</font>.
				    </div>

				    <p class="paragraph">OSCache comes with a servlet filter that enables you to transparently cache entire pages of your website, and even binary files. Caching of binary files is extremely useful when they are generated dynamically, eg PDF files or images.</p><h3 class="heading3"><a name="CacheFilter-Configuringthefilter"> Configuring the filter</a></h3><p class="paragraph">To configure the filter, add something like the following to your <tt class="monospaced">web.xml</tt> file (obviously you will want to set the URL pattern to match only the content you want to cache; this example will cache all JSP pages):</p><div class="code"><div class="codeContent">
<pre><span class="xml&#45;tag">&lt;filter&gt;</span>&#10;      <span class="xml&#45;tag">&lt;filter&#45;name&gt;</span>CacheFilter<span class="xml&#45;tag">&lt;/filter&#45;name&gt;</span>&#10;      <span class="xml&#45;tag">&lt;filter&#45;class&gt;</span>com.opensymphony.oscache.web.filter.CacheFilter<span class="xml&#45;tag">&lt;/filter&#45;class&gt;</span>&#10;   <span class="xml&#45;tag">&lt;/filter&gt;</span>&#10;   <span class="xml&#45;tag">&lt;filter&#45;mapping&gt;</span>&#10;      <span class="xml&#45;tag">&lt;filter&#45;name&gt;</span>CacheFilter<span class="xml&#45;tag">&lt;/filter&#45;name&gt;</span>&#10;      <span class="xml&#45;tag">&lt;url&#45;pattern&gt;</span>&#42;.jsp<span class="xml&#45;tag">&lt;/url&#45;pattern&gt;</span>&#10;   <span class="xml&#45;tag">&lt;/filter&#45;mapping&gt;</span></pre>
</div></div><br/>
The default duration is one hour and the default scope for the cache is application scope. You can change these settings using initialization parameters. <p class="paragraph"><h4 class="heading4"><a name="CacheFilter-Parameter%3Atime"> Parameter: time</a></h4></p>The time parameter sets the cache time (in seconds) for the content.<p class="paragraph"><h4 class="heading4"><a name="CacheFilter-Parameter%3Ascope"> Parameter: scope</a></h4></p>The scope parameter lets you set the scope to cache content in. Valid values for the scope are application and session.<p class="paragraph"><h3 class="heading3"><a name="CacheFilter-Example"> Example</a></h3></p>As an example, the following settings would cache content for 10 minutes in session scope:<br/>

<div class="code"><div class="codeContent">
<pre><span class="xml&#45;tag">&lt;filter&gt;</span>&#10;      <span class="xml&#45;tag">&lt;filter&#45;name&gt;</span>CacheFilter<span class="xml&#45;tag">&lt;/filter&#45;name&gt;</span>&#10;      <span class="xml&#45;tag">&lt;filter&#45;class&gt;</span>com.opensymphony.oscache.web.filter.CacheFilter<span class="xml&#45;tag">&lt;/filter&#45;class&gt;</span>&#10;      <span class="xml&#45;tag">&lt;init&#45;param&gt;</span>&#10;         <span class="xml&#45;tag">&lt;param&#45;name&gt;</span>time<span class="xml&#45;tag">&lt;/param&#45;name&gt;</span>&#10;         <span class="xml&#45;tag">&lt;param&#45;value&gt;</span>600<span class="xml&#45;tag">&lt;/param&#45;value&gt;</span>&#10;      <span class="xml&#45;tag">&lt;/init&#45;param&gt;</span>&#10;      <span class="xml&#45;tag">&lt;init&#45;param&gt;</span>&#10;         <span class="xml&#45;tag">&lt;param&#45;name&gt;</span>scope<span class="xml&#45;tag">&lt;/param&#45;name&gt;</span>&#10;         <span class="xml&#45;tag">&lt;param&#45;value&gt;</span>session<span class="xml&#45;tag">&lt;/param&#45;value&gt;</span>&#10;      <span class="xml&#45;tag">&lt;/init&#45;param&gt;</span>&#10;   <span class="xml&#45;tag">&lt;/filter&gt;</span></pre>
</div></div><br/>

<div align='center'><div class='informationMacroPadding'><table cellpadding='5' width='85%' cellspacing='0' class='noteMacro' border='0'><tr><td width='16' valign='top'><img src="/images/icons/emoticons/warning.png" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b class="strong">Cacheable content</b><br /><br/>
Note that the filter will only cache content that has a status of 200 (HttpServletResponse.SC_OK).
</td></tr></table></div></div>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="border/border_bottom.gif"><img src="border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Apr 30, 2005 22:37</font></td>
		    </tr>
	    </table>
    </body>
</html>